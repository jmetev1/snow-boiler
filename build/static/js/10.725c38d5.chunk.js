(this["webpackJsonpexpress-HelloWorld"]=this["webpackJsonpexpress-HelloWorld"]||[]).push([[10,13],{71:function(e,t,n){"use strict";n.r(t),n.d(t,"OneClinic",(function(){return s}));var i=n(17),a=n(0),c=n.n(a),r=n(25),l=n(27),s=function OneClinic(e){var t=e.clinicID,n=e.visits,s=void 0===n?[]:n,o=e.clinicName,u=Object(a.useState)({}),f=Object(i.a)(u,2),v=f[0],d=f[1],m=Object(a.useState)({}),h=Object(i.a)(m,2),p=h[0],b=h[1];Object(a.useEffect)((function(){return b({})}),[t]),Object(a.useEffect)((function(){fetch("".concat(r.url,"getSpendingByDoctor/").concat(t)).then((function(e){return e.json()})).then(d)}),[t]);var O=Object.values(v).sort((function(e,t){var n=e.amount;return t.amount-n}));return O.length?c.a.createElement(c.a.Fragment,null,"In the last year at ",o," you have spent these amounts. (Highest is first)",c.a.createElement("ol",null,O.map((function(e){var t=e.amount,n=e.name;return c.a.createElement("li",{key:n},n,": $",t.toFixed(2))}))),c.a.createElement("h2",null,"Visits to ",o," by date "),c.a.createElement(l.MySelectField,{label:"Choose Visit To See Details",onChange:function updateVisitByID(e){var t=e.target.value;return b(s.find((function(e){return e._id===t})))}},c.a.createElement("option",{value:"0"},"Choose a Date"),null===s||void 0===s?void 0:s.map((function(e){var t=e.date,n=e._id;return c.a.createElement("option",{key:n,value:n},new Date(t).toLocaleDateString())}))),c.a.createElement(l.OneVisit,{visit:p,spending:v})):t?"No spending found for this clinic this year":"Choose a clinic"}},76:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var i=n(17),a=n(5),c=n(6),r=n(8),l=n(7),s=n(9),o=n(0),u=n.n(o),f=n(25),v=n(27),d=n(71),m=function(e){function PastVisits(){var e,t;Object(a.a)(this,PastVisits);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(t=Object(r.a)(this,(e=Object(l.a)(PastVisits)).call.apply(e,[this].concat(i)))).state={},t}return Object(s.a)(PastVisits,e),Object(c.a)(PastVisits,[{key:"componentDidMount",value:function componentDidMount(){var e=this;Promise.all(["visits","clinic"].map((function(e){return fetch(f.url+e)}))).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(t){var n=Object(i.a)(t,2),a=n[0],c=n[1],r=a.reduce((function(e,t){var n=t.clinic;return e[n]=e[n]?e[n].concat([t]):[t],e}),{}),l=c.filter((function(e){var t,n=e._id;return null===(t=r[n])||void 0===t?void 0:t.length}));e.setState({clinicsThatHaveVisits:l,byClinic:r})}))}},{key:"render",value:function render(){var e=this.state,t=e.clinicsThatHaveVisits,n=e.byClinic;return u.a.createElement(v.Wrapper,null,n?u.a.createElement(h,{byClinic:n,clinics:t}):"Loading")}}]),PastVisits}(u.a.Component),h=function SelectClinicModule(e){var t=e.clinics,n=e.byClinic,a=Object(o.useState)({}),c=Object(i.a)(a,2),r=c[0],l=c[1],s=r._id,f=r.name,m=n[s];return u.a.createElement(u.a.Fragment,null,u.a.createElement(v.SelectClinic,{clinics:t,setClinic:function setClinicByID(e){var n=e.target.value,i=t.find((function(e){return n===e._id}))||{};l(i)}}),s&&u.a.createElement(d.OneClinic,{clinicID:s,clinicName:f,visits:m}))}}}]);
//# sourceMappingURL=10.725c38d5.chunk.js.map